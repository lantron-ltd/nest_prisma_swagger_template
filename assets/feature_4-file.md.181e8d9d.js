import{_ as s,c as a,o as n,b as e}from"./app.6ef46020.js";const l="/npsg/feature/file/upload.png",p="/npsg/feature/file/uploads.png",o="/npsg/feature/file/download.png",f=JSON.parse('{"title":"使用场景","description":"","frontmatter":{},"headers":[],"relativePath":"feature/4-file.md","lastUpdated":1675180285000}'),t={name:"feature/4-file.md"},c=e(`<h4 id="返回功能介绍" tabindex="-1"><a href="/npsg/feature/">返回功能介绍</a></h4><hr><h1 id="使用场景" tabindex="-1">使用场景</h1><p>文件上传下载在一个应用中是一个非常常见的功能，鉴于目前主流的项目部署方式都是采用容器化部署，因此文件需要上传到第三方服务，最常见的就是AWS S3存储桶。因此需要在<code>.env中配置所需要的aws权限</code></p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">AWS_BUCKET_NAME</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> bucket</span></span>
<span class="line"><span style="color:#E1E4E8;">AWS_REGION</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">ap-northeast-</span><span style="color:#79B8FF;">1</span></span>
<span class="line"><span style="color:#E1E4E8;">AWS_ACCESS_KEY_ID</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> AWS_ACCESS_KEY_ID</span></span>
<span class="line"><span style="color:#E1E4E8;">AWS_SECRET_ACCESS_KEY</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">your</span><span style="color:#E1E4E8;"> AWS_SECRET_ACCESS_KEY</span></span>
<span class="line"></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">AWS_BUCKET_NAME</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">your</span><span style="color:#24292E;"> bucket</span></span>
<span class="line"><span style="color:#24292E;">AWS_REGION</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">ap-northeast-</span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">AWS_ACCESS_KEY_ID</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">your</span><span style="color:#24292E;"> AWS_ACCESS_KEY_ID</span></span>
<span class="line"><span style="color:#24292E;">AWS_SECRET_ACCESS_KEY</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">your</span><span style="color:#24292E;"> AWS_SECRET_ACCESS_KEY</span></span>
<span class="line"></span></code></pre></div><h2 id="上传单文件" tabindex="-1">上传单文件</h2><p>endpoint: <code>file/upload</code> POST body参数: <code>file: File</code><img src="`+l+'" alt="upload"></p><h2 id="批量上传文件" tabindex="-1">批量上传文件</h2><p>endpoint: <code>file/uploads</code> POST body参数: <code>file: Files</code><img src="'+p+'" alt="uploads"></p><h2 id="下载文件" tabindex="-1">下载文件</h2><p>endpoint: <code>file/download</code> GET query参数：path</p><p><img src="'+o+`" alt="download"></p><h2 id="代码目录结构" tabindex="-1">代码目录结构</h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">├── dto</span></span>
<span class="line"><span style="color:#e1e4e8;">│   ├── file-upload.dto.ts</span></span>
<span class="line"><span style="color:#e1e4e8;">│   └── files-upload.to.ts</span></span>
<span class="line"><span style="color:#e1e4e8;">├── file.controller.ts</span></span>
<span class="line"><span style="color:#e1e4e8;">├── file.module.ts</span></span>
<span class="line"><span style="color:#e1e4e8;">└── file.service.ts</span></span>
<span class="line"><span style="color:#e1e4e8;"></span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">├── dto</span></span>
<span class="line"><span style="color:#24292e;">│   ├── file-upload.dto.ts</span></span>
<span class="line"><span style="color:#24292e;">│   └── files-upload.to.ts</span></span>
<span class="line"><span style="color:#24292e;">├── file.controller.ts</span></span>
<span class="line"><span style="color:#24292e;">├── file.module.ts</span></span>
<span class="line"><span style="color:#24292e;">└── file.service.ts</span></span>
<span class="line"><span style="color:#24292e;"></span></span></code></pre></div>`,14),r=[c];function i(d,E,_,y,u,S){return n(),a("div",null,r)}const C=s(t,[["render",i]]);export{f as __pageData,C as default};
